{% extends "base.html" %}
{% block content_title %}{% endblock %}
{% block content %}
{% if articles %}
<section id="content" class="body posts-page">
    <ol id="posts-list" class="hfeed">
        {% for article in articles %}
            <li>
                <article class="hentry clickable-post" data-url="{{ SITEURL }}/{{ article.url }}">
                    <header>
                        <h1><a href="{{ SITEURL }}/{{ article.url }}" rel="bookmark">{{ article.title }}</a></h1>
                    </header>

                    <div class="entry-content">
                    {% include 'article_infos.html' %}<!-- /.post-info -->
                    {% if article.summary %}
                        {{ article.summary }}
                    {% else %}
                        {{ article.content|truncate(300, true, '...') }}
                    {% endif %}
                    </div><!-- /.entry-content -->
                </article>
            </li>
        {% endfor %}
    </ol><!-- /#posts-list -->
</section><!-- /#content -->

<script>
document.addEventListener('DOMContentLoaded', function() {
    const clickablePosts = document.querySelectorAll('.clickable-post');
    
    clickablePosts.forEach(function(post) {
        post.addEventListener('click', function(e) {
            // Evita conflito se clicarem no link do t√≠tulo
            if (e.target.tagName !== 'A') {
                const url = this.getAttribute('data-url');
                window.location.href = url;
            }
        });
    });
});
</script>

{% else %}
<section id="content" class="body">
<h2>Pages</h2>
{% for page in pages %}
    <li><a href="{{ SITEURL }}/{{ page.url }}">{{ page.title }}</a></li>
{% endfor %}
</section>
{% endif %}
{% endblock content %}