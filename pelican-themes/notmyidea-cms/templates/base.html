<!DOCTYPE html>
<html lang="en">
<head>
        <title>{% block title %}{{ SITENAME }}{%endblock%}</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="{{ SITEURL }}/theme/css/{{ CSS_FILE }}" type="text/css" />
        <link href="{{ SITEURL }}/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Atom Feed" />
        {% if FEED_RSS %}
        <link href="{{ SITEURL }}/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} RSS Feed" />
        {% endif %}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/theme-toggles@4.10.1/css/classic.min.css">
</head>

<body id="index" class="home" style="margin: auto;">
    {% include 'github.html' %}
    <header id="banner" class="body">
        <h1><a href="{{ SITEURL }}/">{{ SITENAME }} {% if SITESUBTITLE %} <strong>{{ SITESUBTITLE }}</strong>{% endif %}</a></h1>
        <nav>
            <!-- BOTÃO HAMBÚRGUER FORA DA UL -->
            <button class="menu-toggle" onclick="toggleMenu()">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
            <!-- SÓ UMA UL COM ID="menu" -->
            <ul id="menu">
            {% for title, url in MENUITEMS %}
                <li {% if page is defined and url == page.url %} class="active" {% endif %}>
                    <a href="{{ SITEURL }}/{{ url }}">{{ title }}</a>
                </li>
            {% endfor %}
            {% if DISPLAY_PAGES_ON_MENU != False %}
                {% for p in pages %}
                    <li {% if p == page %}class="active"{% endif %}><a href="{{ SITEURL }}/{{ p.url }}">{{ p.title }}</a></li>
                {% endfor %}
            {% endif %}
            <li id="posts-link">
                <a href="{{ SITEURL }}/{{ ARCHIVES_URL }}">Posts</a>
            </li>
            <li>
                <a href="{{ SITEURL }}/feeds/all.atom.xml" title="Assinar RSS">
                    <img src="{{ SITEURL }}/images/rss-icon.png" alt="RSS" style="width:20px;height:20px;vertical-align:middle;">
                </a>
            </li>

            <li style="float: right;">
                <a href="#" id="theme-toggle" class="theme-toggle theme-toggle--toggled" aria-label="Toggle theme">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        aria-hidden="true"
                        width="22px"
                        height="22px"
                        fill="currentColor"
                        stroke-linecap="round"
                        class="theme-toggle__classic"
                        viewBox="0 0 32 32"
                    >
                        <clipPath id="theme-toggle__classic__cutout">
                        <path d="M0-5h30a1 1 0 0 0 9 13v24H0Z" />
                        </clipPath>
                        <g clip-path="url(#theme-toggle__classic__cutout)">
                        <circle cx="16" cy="16" r="9.34" />
                        <g stroke="currentColor" stroke-width="1.5">
                            <path d="M16 5.5v-4" />
                            <path d="M16 30.5v-4" />
                            <path d="M1.5 16h4" />
                            <path d="M26.5 16h4" />
                            <path d="m23.4 8.6 2.8-2.8" />
                            <path d="m5.7 26.3 2.9-2.9" />
                            <path d="m5.8 5.8 2.8 2.8" />
                            <path d="m23.4 23.4 2.9 2.9" />
                        </g>
                        </g>
                    </svg>
                </a>
            </li>

            {#{% for cat, null in categories %}
                <li {% if cat == category %}class="active"{% endif %}><a href="{{ SITEURL }}/{{ cat.url }}">{{ cat }}</a></li>
            {% endfor %}#}
            </ul>
        </nav>
    </header><!-- /#banner -->

    {% block content %}
    {% endblock %}

    <footer id="footer" class="body">
        <p>Feito com amor, por <a href="https://github.com/aninhasalesp"> Ana Paula</a> ❤️</p>
    </footer><!-- /#footer -->

    <script>
        function toggleMenu() {
            const menu = document.getElementById('menu');
            const toggle = document.querySelector('.menu-toggle');

            menu.classList.toggle('active');
            toggle.classList.toggle('active');
        }

        const toggle = document.getElementById("theme-toggle");
        const currentTheme = localStorage.getItem("theme") || "light";

        document.documentElement.setAttribute("data-theme", currentTheme);

        function setThemeToggleIcon(theme) {
            const themeToggle = document.getElementById("theme-toggle");
            if (theme === "light") {
                themeToggle.classList.add("theme-toggle--toggled");
            } else {
                themeToggle.classList.remove("theme-toggle--toggled");
            }
        }

        setThemeToggleIcon(currentTheme);

        toggle.addEventListener("click", () => {
            const theme = document.documentElement.getAttribute("data-theme") === "light" ? "dark" : "light";
            document.documentElement.setAttribute("data-theme", theme);
            localStorage.setItem("theme", theme);

            setThemeToggleIcon(theme);

            const menuToggle = document.querySelector('.menu-toggle');
            if (menuToggle.classList.contains('active')) {
                toggleMenu();
            }
        });


        document.addEventListener('DOMContentLoaded', function() {
            if (window.location.pathname === '/' || window.location.pathname === '/index.html') {
                document.getElementById('posts-link').classList.add('active');
            }
        });
    </script>

    {% include 'analytics.html' %}
</body>
</html>